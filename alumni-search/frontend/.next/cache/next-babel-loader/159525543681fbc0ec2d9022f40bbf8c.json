{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/slicedToArray\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nrequire(\"isomorphic-fetch\");\n\nfunction getJson(url) {\n  return fetch(url).then(function (resp) {\n    console.log(url, resp);\n    return resp.json();\n  });\n}\n\nfunction handleError(error) {\n  console.warn(error);\n  return null;\n}\n\nfunction getUsername(username) {\n  return getJson(\"https://localhost:3000/login\");\n}\n\nfunction getPassword(password) {\n  return getJson(\"https://localhost:3000/login\");\n}\n\nfunction getUserData(user_info) {\n  return _bluebird[\"default\"].all([getUsername(user_info), getPassword(user_info)]).then(function (_ref) {\n    var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n        username = _ref2[0],\n        password = _ref2[1];\n\n    return {\n      username: username,\n      password: password\n    };\n  });\n}\n\nmodule.exports = {\n  createAccount: function createAccount(user_info) {\n    return getJson(user_info)[\"catch\"](handleError);\n  },\n  getInfo: function getInfo(user_info) {\n    return getUserData(user_info)[\"catch\"](handleError);\n  }\n};","map":{"version":3,"sources":["C:/Users/Brad/database-course/rudiments/nextjs/lib/utils.js"],"names":["require","getJson","url","fetch","then","resp","console","log","json","handleError","error","warn","getUsername","username","getPassword","password","getUserData","user_info","BPromise","all","module","exports","createAccount","getInfo"],"mappings":";;;;;;AACA;;AADAA,OAAO,CAAC,kBAAD,CAAP;;AAGA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,SAAOC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAgB,UAAUC,IAAV,EAAgB;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAAiBG,IAAjB;AACA,WAAOA,IAAI,CAACG,IAAL,EAAP;AACD,GAHM,CAAP;AAID;;AAED,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1BJ,EAAAA,OAAO,CAACK,IAAR,CAAaD,KAAb;AACA,SAAO,IAAP;AACD;;AAED,SAASE,WAAT,CAAqBC,QAArB,EAA8B;AAC5B,SAAOZ,OAAO,gCAAd;AACD;;AACD,SAASa,WAAT,CAAqBC,QAArB,EAA8B;AAC5B,SAAOd,OAAO,gCAAd;AACD;;AAED,SAASe,WAAT,CAAqBC,SAArB,EAA+B;AAC7B,SAAOC,qBAASC,GAAT,CAAa,CAACP,WAAW,CAACK,SAAD,CAAZ,EAAyBH,WAAW,CAACG,SAAD,CAApC,CAAb,EAA+Db,IAA/D,CAAoE,gBACnD;AAAA;AAAA,QAApBS,QAAoB;AAAA,QAAVE,QAAU;;AACpB,WAAO;AAACF,MAAAA,QAAQ,EAARA,QAAD;AAAWE,MAAAA,QAAQ,EAARA;AAAX,KAAP;AAEH,GAJM,CAAP;AAKD;;AAEDK,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,aAAa,EAAE,uBAAUL,SAAV,EAAqB;AAClC,WAAOhB,OAAO,CAACgB,SAAD,CAAP,UAAyBR,WAAzB,CAAP;AACD,GAHc;AAIfc,EAAAA,OAAO,EAAE,iBAAUN,SAAV,EAAqB;AAC5B,WAAOD,WAAW,CAACC,SAAD,CAAX,UAA6BR,WAA7B,CAAP;AACD;AANc,CAAjB","sourcesContent":["require(\"isomorphic-fetch\");\r\nimport BPromise from \"bluebird\";\r\n\r\nfunction getJson(url) {\r\n  return fetch(url).then(function (resp) {\r\n    console.log(url, resp);\r\n    return resp.json();\r\n  });\r\n}\r\n\r\nfunction handleError(error) {\r\n  console.warn(error);\r\n  return null;\r\n}\r\n\r\nfunction getUsername(username){\r\n  return getJson(`https://localhost:3000/login`)\r\n}\r\nfunction getPassword(password){\r\n  return getJson(`https://localhost:3000/login`)\r\n}\r\n\r\nfunction getUserData(user_info){\r\n  return BPromise.all([getUsername(user_info), getPassword(user_info)]).then(function\r\n    ([username, password]){\r\n      return {username, password};\r\n  \r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  createAccount: function (user_info) {\r\n    return getJson(user_info).catch(handleError);\r\n  },\r\n  getInfo: function (user_info) {\r\n    return getUserData(user_info).catch(handleError);\r\n  },\r\n};"]},"metadata":{},"sourceType":"script"}